<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Code Case</title>
	</head>

	<body>
		<div class="container"></div>
	</body>
	<script type="text/javascript" src="./script/Biological.js"></script>
	<script type="text/javascript" src="./script/base.js"></script>
	<script>
		console.log('%c=> 设计模式-单例模式', 'color: #ff0000;')

		/* 
    对于单例模式, 无论访问多少次, 都应只返回首次运行时的那个实例
 */

		{
			console.log(`\n-> 案例一: 单例模式`)

			const BiologicalSingleInstance = (() => {
				let instance = null
				return type => {
					if (instance instanceof Biological) {
						return instance
					}
					return (instance = new Biological(type)), instance
				}
			})()

			const dog = BiologicalSingleInstance(`dog`)
			console.log(dog.breathing())
			const human = BiologicalSingleInstance(`human`)
			console.log(human.breathing())
		}
	</script>
</html>
